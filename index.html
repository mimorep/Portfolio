<!--
                    Main page for the porfolio web
                        by miguelmoreno
-->

<!DOCTYPE html>

<html lang="en">

    <head>     

        <!-- Required metas -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap inizialitation -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

        <title>HOLA MUNDO</title>

    </head>

    <body>

        <script src="js/three.js"></script>
        <script src="js/GLTFLoader.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script>
            let scene, camera, renderer;

             // Get the canvas size
            var fitosObject = document.getElementById("fitos"),
                CANVAS_WIDTH = 300,
                CANVAS_HEIGHT = 300;   

            function init() {               

                // Set the scene
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0x000000); // Background color, now black

                // Enable de camera control
                camera = new THREE.PerspectiveCamera(30, window.innerWidth/CANVAS_HEIGHT, 0.01, 2000);
                camera.rotation.y = 45/180*Math.PI;
                
                // Camera position
                camera.position.x = 1.5;
                camera.position.y = 0;
                camera.position.z = 1;

                renderer = new THREE.WebGLRenderer({antialias: true});
                renderer.setSize(window.innerWidth, CANVAS_HEIGHT);
                document.body.appendChild(renderer.domElement);

                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.update();

                // Set the lights        
                light = new THREE.PointLight(0xd9d9d9, 2);
                light.position.set(0, 300, 500);
                scene.add(light);

                light2 = new THREE.PointLight(0xd9d9d9, 2);
                light2.position.set(500,100,0);
                scene.add(light2);

                // Back ligth
                light3 = new THREE.PointLight(0xd9d9d9, 2);
                light3.position.set(0, 100, -500);
                scene.add(light3);

                light4 = new THREE.PointLight(0xd9d9d9, 2);
                light4.position.set(-500, 300, 500);
                scene.add(light4);
                
                // Add the element to the web
                document.body.appendChild(renderer.domElement);

                // Init the 3d loader and load the fitos file
                let loader = new THREE.GLTFLoader();
                loader.load('3dStuff/Fito3d.gltf', gltf => {

                    var fitos = gltf.scene.children[0];
                    //fitos.scale.set(0.5,0.5,0.5)

                    // Reference for rotation
                    model = gltf.scene;
                    scene.add(gltf.scene);
                    
                    // Pass the object reference
                    animate();

                });

            }

            function animate () {
                
                // Set the object rotation
                model.rotation.y += -0.007;

                renderer.render(scene, camera);
                requestAnimationFrame(animate);

            }

            // Init the 3d content
            init();

        </script>

        <!-- Javascript declaration for Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

        <!-- Main container -->
        <div class="container">
            <h1>HELLO WORLD</h1>
            <p>Hola mundo</p>

            <!-- Contact me secction -->
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Email address</label>
                <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
            </div>
            <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label">Message Content</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div>

        </div>        

    </body>

</html>